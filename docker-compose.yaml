name: ubuntu-home-server

networks:
  traefik-proxy:
    name: traefik-proxy
    driver: bridge
    ipam:
      config:
        - subnet: 172.18.0.0/16

# Include the individual docker compose files for each service
# TODO: Create a script that auto generates the include paths
include:
  # Infrastructure
  - $INFRASTRUCTURE_DIR/traefik.yaml
  - $INFRASTRUCTURE_DIR/portainer.yaml
  - $INFRASTRUCTURE_DIR/uptimekuma.yaml
  - $INFRASTRUCTURE_DIR/duplicati.yaml

  # IoT
  - $IOT_DIR/homeassistant.yaml
  - $IOT_DIR/mosquitto.yaml
  - $IOT_DIR/zigbee2mqtt.yaml

  # Applications
  - $APPLICATIONS_DIR/homarr.yaml
  - $APPLICATIONS_DIR/homebox.yaml
  - $APPLICATIONS_DIR/hoarder.yaml
  # - $APPLICATIONS_DIR/yaffa.yaml
  # - $APPLICATIONS_DIR/excalidraw.yaml